(this["webpackJsonpplaying-with-polygons"]=this["webpackJsonpplaying-with-polygons"]||[]).push([[0],{22:function(e,n,t){e.exports=t.p+"static/media/playing-with-polygons-logo.0b998246.gif"},23:function(e,n,t){e.exports=t.p+"static/media/playing-with-polygons-animated-logo-redraw-background.89089f99.gif"},24:function(e,n,t){e.exports=t.p+"static/media/playing-with-polygons-animated-logo-faded-background.8d4fab3b.gif"},25:function(e,n,t){e.exports=t.p+"static/media/polygon-rotating.b47dc058.gif"},26:function(e,n,t){e.exports=t.p+"static/media/polygon-scaling.df17a577.gif"},27:function(e,n,t){e.exports=t.p+"static/media/polygon-rotating-and-scaling.934716d6.gif"},28:function(e,n,t){e.exports=t.p+"static/media/playing-with-polygons-animated-logo.de8fbc4a.gif"},31:function(e,n,t){e.exports=t.p+"static/media/rotating-ring.6b2af75b.svg"},32:function(e,n,t){e.exports=t(42)},40:function(e,n,t){},41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(18),i=t.n(o),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=t(1),s=t(2),d=t(3),g=t(5),p=Object(g.a)((function(e,n){switch(n.type){case"INFO_SCREEN":case"WATCH_SCREEN":case"GROUP_SCREEN":e.currentScreen=n.type;break;case"POLYGON_SCREEN":e.currentScreen=n.type,e.currentGroup=n.currentGroup,e.currentPolygon=n.currentPolygon}})),b={currentScreen:"INFO_SCREEN",currentGroup:0,currentPolygon:0},f=function(e){var n=e.children,t=Object(r.useReducer)(p,b),o=Object(d.a)(t,2),i=o[0],c=o[1];return a.a.createElement(m.Provider,{value:c},a.a.createElement(h.Provider,{value:i},n))},m=Object(r.createContext)({}),h=Object(r.createContext)({}),v=t(15);function x(){var e=Object(u.a)(["\n  min-height: 50px;\n  border-radius: 5px;\n  margin: 5px;\n  background: Gainsboro;\n  border: solid 2px silver;\n  color: #595959;\n  font-size: 18px;\n  cursor: pointer;\n\n  &:focus,\n  &:hover {\n    outline: none;\n    border: solid 2px lightgrey;\n    background: dimgrey;\n    color: snow;\n  }\n\n  &:active {\n    border: solid 2px snow;\n  }\n\n  &:disabled {\n    border: solid 2px silver;\n    background: #f8f8f8;\n    color: #6e6e6e;\n    cursor: not-allowed;\n  }\n"]);return x=function(){return e},e}var y=s.b.button(x()),E=t(22),O=t.n(E),k=t(23),w=t.n(k),j=t(24),C=t.n(j),S=t(25),P=t.n(S),R=t(26),N=t.n(R),T=t(27),L=t.n(T),M=t(28),G=t.n(M);function A(){var e=Object(u.a)(["\n  max-width: 600px;\n  margin: 10px auto;\n  padding: 10px;\n  font-size: 18px;\n  background: white;\n  border-radius: 10px;\n  box-shadow: 1px 1px 5px dimgrey;\n\n  & img {\n    display: block;\n    margin: 0 auto;\n  }\n  p {\n    margin: 10px;\n  }\n  strong {\n    font-weight: bold;\n  }\n  em {\n    font-style: italic;\n  }\n  h1,\n  h2,\n  h3 {\n    text-align: center;\n\n    font-weight: bold;\n  }\n  h1 {\n    font-size: 30px;\n    margin: 20px;\n  }\n  h2 {\n    font-size: 25px;\n    margin: 15px;\n  }\n  h3 {\n    font-size: 20px;\n  }\n"]);return A=function(){return e},e}function _(){var e=Object(u.a)(["\n  overflow-y: scroll;\n  background: whitesmoke;\n"]);return _=function(){return e},e}function D(){var e=Object(u.a)(["\n  margin: 20px auto;\n  display: block;\n  width: 80%;\n"]);return D=function(){return e},e}var F=Object(s.b)(y)(D()),I=s.b.div(_()),z=s.b.div(A()),Y=function(){var e=Object(r.useContext)(m);return a.a.createElement(I,null,a.a.createElement(z,null,a.a.createElement("h1",null,"Playing With Polygons"),a.a.createElement("img",{alt:"Playing with Polygons Logo",src:O.a}),a.a.createElement("p",null,"Welcome to my little polygon art project!"),a.a.createElement("p",null,"Scroll to Learn a bit about the app, or just drive straight in by pressing ",a.a.createElement("strong",null,"Start!")),a.a.createElement(F,{type:"button",onClick:function(){e({type:"WATCH_SCREEN"})}},"Start!"),a.a.createElement("h2",null,"Tips and Tricks"),a.a.createElement("p",null,"Here are some basic tips that I hope will help you make something!"),a.a.createElement("h3",null,"Background"),a.a.createElement("p",null,"By default the background will redraw with an opacity, this will cause a trailing image when the polygons move. Adjusting the opacity will change how much ",a.a.createElement("em",null,"trail/blur")," is left behind."),a.a.createElement("img",{alt:"polygon with fading background",src:C.a}),a.a.createElement("p",null,"The ",a.a.createElement("em",null,"Redraw Background")," option in"," ",a.a.createElement("strong",null,"Edit Background")," will cause the polygon to paint. This creates the most interesting patterns when its left to run."),a.a.createElement("img",{alt:"polygon with drawing background",src:w.a}),a.a.createElement("h3",null,"Polygon Animation"),a.a.createElement("p",null,"Polygons move in two main ways. ",a.a.createElement("strong",null,"Rotation")," and"," ",a.a.createElement("strong",null,"Scaling")),a.a.createElement("p",null,a.a.createElement("strong",null,"Rotation")," can be either clockwise or anti-clockwise. But you will find the most interesting changes when you adjust its speed."),a.a.createElement("img",{alt:"Rotating Polygon",src:P.a}),a.a.createElement("p",null,a.a.createElement("strong",null,"Scaling")," like the rotation is an endless cycle. And causes the polygon to scale between a minimum and a maximum size."),a.a.createElement("img",{alt:"Scaling Polygon",src:N.a}),a.a.createElement("p",null,"For the most interesting results you can combine scaling and rotation together."),a.a.createElement("img",{alt:"Rotating and Scaling Polygon",src:L.a}),a.a.createElement("h3",null,"Making GIF's or JIF's"),a.a.createElement("p",null,"You can make and download a gif by pressing the"," ",a.a.createElement("strong",null,"Make Gif")," button. Just be aware that the longer the gif is, the longer it will take to make."),a.a.createElement("p",null,"If you're on a phone I would recommend creating short gif's. But you can make them 10 seconds long if you don't mind the wait."),a.a.createElement("p",null,"If you do make anything you want to share on twitter, be sure to include ",a.a.createElement("em",null,"@PlayingPolygons")," to share with the"," ",a.a.createElement("a",{href:"https://twitter.com/PlayingPolygons"},"Playing With Polygons Twitter")),a.a.createElement("h2",null,"Playing with Polygons Across the Web"),a.a.createElement("p",null,"If you want to see the code behind this app, or you want to raise an issue. Check out the"," ",a.a.createElement("a",{href:"https://github.com/LiamMyles/playing-with-polygons"},"Playing with Polygons Github page")),a.a.createElement("p",null,"If twitter is more of your thing, why not check out the"," ",a.a.createElement("a",{href:"https://twitter.com/PlayingPolygons"},"Playing with Polygons Twitter account"),". Hopefully there will be gif's on their to help inspire you."),a.a.createElement("h2",null,"About Me"),a.a.createElement("p",null,"Hi, I'm Liam"," ",a.a.createElement("span",{role:"img","aria-label":"Waving Hand"},"\ud83d\udc4b"),", thanks for checking out my little app! I hope it brings you a tiny bit of joy."),a.a.createElement("p",null,"I'm just another bearded, white, cis-male, tech person. But I love the web, and how accessible it is to so many people."),a.a.createElement("p",null,"If you want to know more about me, you can check"," ",a.a.createElement("a",{href:"https://twitter.com/LiamMyles92"},"my Twitter account")," to see what I'm up to."),a.a.createElement("p",null,"Also, while I have done my best to make this app as accessible as possible, if you have anything you notice I can improve please do reach out!"),a.a.createElement("h2",null,"The Next Step"),a.a.createElement("img",{alt:"Animated Playing with Polygons Logo",src:G.a}),a.a.createElement(F,{type:"button",onClick:function(){e({type:"WATCH_SCREEN"})}},"MAKE POLYGON ART!")))},B=t(29),W=t.n(B),U=function(e){var n=e.sketch,t=e.className,o=Object(r.useRef)(null),i=Object(r.useRef)();return Object(r.useEffect)((function(){var e=o.current;void 0!==i.current&&i.current.remove();var t=setTimeout((function(){var t=new W.a(n,e);i.current=t}),100);return function(){(clearTimeout(t),null===i||void 0===i?void 0:i.current)&&i.current.remove()}}),[i,o,n]),a.a.createElement("div",{ref:o,className:t})},X=t(4),V=t(13);function H(e,n){var t=Object(V.a)({},Object(g.b)(e));return Object.keys(n).forEach((function(e){t[e]=n[e]})),t}function Z(e,n){return Math.random()*(n-e)+e}function K(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e}function J(){var e=function(e,n,t){var r,a,o;if(0===n)r=a=o=t;else{var i=function(e,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*(n-e)*t:t<.5?n:t<2/3?e+(n-e)*(2/3-t)*6:e},c=t<.5?t*(1+n):t+n-t*n,l=2*t-c;r=i(l,c,e+1/3),a=i(l,c,e),o=i(l,c,e-1/3)}return[Math.round(255*r),Math.round(255*a),Math.round(255*o)]}(Z(0,1),Z(.5,.7),Z(.5,.7)),n=Object(d.a)(e,3);return[n[0],n[1],n[2]]}function $(e){var n=e.toString(16);return 1===n.length?"0"+n:n}function q(e,n,t){return"#"+$(e)+$(n)+$(t)}function Q(e){var n=K(1,e);return Object(X.a)(Array(n)).map((function(){return q.apply(void 0,Object(X.a)(J()))}))}function ee(){var e=K(3,12);return{enabled:!0,strokeWidth:K(1,10),amount:e,colours:Q(e)}}function ne(e){return{enabled:!0,fillColours:Q(e),size:K(5,10),strokeWidth:K(0,10),strokeColours:Q(e)}}function te(){return{enabled:!0,clockwise:1===K(0,1),speed:K(2,7),startingRotation:K(0,359)}}function re(){var e=K(0,150),n=K(200,500);return{enabled:!0,range:{min:e,max:n},speed:K(2,7),startingSize:K(e,n)}}function ae(){var e=K(0,100);return e<=48?{sidesEnabled:!0,dotsEnabled:!1,rotationEnabled:!0,scaleEnabled:!0}:e<=50?{sidesEnabled:!0,dotsEnabled:!1,rotationEnabled:!0,scaleEnabled:!1}:e<=90?{sidesEnabled:!1,dotsEnabled:!0,rotationEnabled:!0,scaleEnabled:!0}:e<=95?{sidesEnabled:!1,dotsEnabled:!0,rotationEnabled:!0,scaleEnabled:!1}:{sidesEnabled:!0,dotsEnabled:!0,rotationEnabled:!0,scaleEnabled:!0}}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.active,t=void 0===n||n,r=e.position,a=void 0===r?{x:0,y:0}:r,o=ee(),i=ne(o.amount),c=te(),l=re(),u=ae(),s=u.sidesEnabled,d=u.scaleEnabled,g=u.rotationEnabled,p=u.dotsEnabled;return o.enabled=s,i.enabled=p,l.enabled=d,c.enabled=g,{active:t,position:a,sides:o,dots:i,rotation:c,scale:l}}function ie(){var e=K(2,8);return Object(X.a)(Array(e)).map((function(){return oe()}))}var ce=Object(g.a)((function(e,n){switch(n.type){case"CREATE_POLYGON_GROUP":e.push({active:!0,position:{x:0,y:0},rings:ie()});break;case"CREATE_POLYGON":e[n.group].rings.push(oe());break;case"UPDATE_POLYGON_GROUP_POSITION":e[n.group].position=n.position;break;case"UPDATE_POLYGON_GROUP_ACTIVE":e[n.group].active=n.active;break;case"UPDATE_POLYGON_ALL":var t=e[n.group].rings[n.polygon];void 0!==n.polygonState.active&&(t.active=n.polygonState.active),void 0!==n.polygonState.position&&(t.position=n.polygonState.position),void 0!==n.polygonState.dots&&(t.dots=H(t.dots,n.polygonState.dots)),void 0!==n.polygonState.rotation&&(t.rotation=H(t.rotation,n.polygonState.rotation)),void 0!==n.polygonState.sides&&(t.sides=H(t.sides,n.polygonState.sides)),void 0!==n.polygonState.scale&&(t.scale=H(t.scale,n.polygonState.scale));break;case"UPDATE_POLYGON_POSITION":e[n.group].rings[n.polygon].position=n.position;break;case"UPDATE_POLYGON_ACTIVE":e[n.group].rings[n.polygon].active=n.active;break;case"UPDATE_POLYGON_DOTS":var r=e[n.group].rings[n.polygon];r.dots=H(r.dots,n.dots);break;case"UPDATE_POLYGON_ROTATION":var a=e[n.group].rings[n.polygon];a.rotation=H(a.rotation,n.rotation);break;case"UPDATE_POLYGON_SIDES":var o=e[n.group].rings[n.polygon];o.sides=H(o.sides,n.sides);break;case"UPDATE_POLYGON_SCALE":var i=e[n.group].rings[n.polygon];i.scale=H(i.scale,n.scale);break;case"RANDOMIZE_POLYGON_RINGS":e[n.group].rings=ie();break;case"RANDOMIZE_POLYGON":var c=e[n.group].rings;c[n.polygon]=oe(Object(g.b)(c[n.polygon]));break;case"RANDOMIZE_POLYGON_SIDES":e[n.group].rings[n.polygon].sides=ee();break;case"RANDOMIZE_POLYGON_ROTATION":e[n.group].rings[n.polygon].rotation=te();break;case"RANDOMIZE_POLYGON_SCALE":e[n.group].rings[n.polygon].scale=re();break;case"RANDOMIZE_POLYGON_DOTS":var l=e[n.group].rings[n.polygon],u=l.sides.amount;l.dots=ne(u);break;case"DELETE_POLYGON_GROUP":var s=Object(g.b)(e),d=s?s.length:1;s&&d>1&&e.splice(n.group,1);break;case"DELETE_POLYGON_GROUP_RING":var p=Object(g.b)(e);(p?p[n.group].rings.length:1)>1&&e[n.group].rings.splice(n.polygon,1)}})),le=[{active:!0,position:{x:0,y:0},rings:[{active:!0,position:{x:0,y:0},dots:{enabled:!0,fillColours:["black"],size:1,strokeColours:["black"],strokeWidth:1},rotation:{clockwise:!0,enabled:!0,speed:1,startingRotation:1},scale:{enabled:!0,speed:1,range:{max:10,min:5},startingSize:5},sides:{enabled:!0,strokeWidth:1,colours:["black"],amount:6}},{active:!0,position:{x:0,y:0},dots:{enabled:!0,fillColours:["black"],size:1,strokeColours:["black"],strokeWidth:1},rotation:{clockwise:!0,enabled:!0,speed:1,startingRotation:1},scale:{enabled:!0,speed:1,range:{max:10,min:5},startingSize:5},sides:{enabled:!0,strokeWidth:1,colours:["black"],amount:6}}]}];function ue(e){var n=Object(X.a)(e);return"undefined"===typeof jest&&(n[0].rings=ie()),n}var se=function(e){var n=e.children,t=Object(r.useReducer)(ce,le,ue),o=Object(d.a)(t,2),i=o[0],c=o[1];return a.a.createElement(de.Provider,{value:c},a.a.createElement(ge.Provider,{value:i},n))},de=Object(r.createContext)({}),ge=Object(r.createContext)([]);var pe=Object(g.a)((function(e,n){switch(n.type){case"UPDATE_BACKGROUND_WITH_HEX":e.opacity=n.opacity,e.shouldRedraw=n.shouldRedraw,e.hex=n.hexColour;var t=function(e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}(n.hexColour);if(t){var r=t.r,a=t.g,o=t.b;e.rgb="rgb(".concat(r,",").concat(a,",").concat(o,")"),e.rgba="rgba(".concat(r,",").concat(a,",").concat(o,",").concat(n.opacity/100,")")}}})),be={opacity:10,hex:"#ffffff",rgb:"rgb(255,255,255)",rgba:"rgba(255,255,255, 0.1)",shouldRedraw:!0},fe=function(e){var n=e.children,t=Object(r.useReducer)(pe,be),o=Object(d.a)(t,2),i=o[0],c=o[1];return a.a.createElement(me.Provider,{value:c},a.a.createElement(he.Provider,{value:i},n))},me=Object(r.createContext)({}),he=Object(r.createContext)({});function ve(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background-color: rgba(211, 211, 211, 0.7);\n  z-index: 9;\n"]);return ve=function(){return e},e}function xe(){var e=Object(u.a)(['\n  display: flex;\n  padding: 10px;\n  border-radius: 4px 4px 0 0;\n  justify-content: space-between;\n  align-items: center;\n  background: grey;\n  margin: -10px -10px 10px -10px;\n  h2 {\n    font-size: 32px;\n    font-weight: bold;\n    margin: 0 10px 0 0;\n    color: whitesmoke;\n  }\n  button {\n    position: relative;\n    background: lightgrey;\n    width: 35px;\n    height: 35px;\n    border-radius: 4px;\n    border: 1px solid lightgrey;\n    box-shadow: 0 2px 2px dimgray;\n    transition: all 200ms ease-in-out;\n    &:focus,\n    &:hover {\n      box-shadow: 1px 3px 3px 2px dimgray;\n      outline: none;\n      background-color: dimgrey;\n      &::before {\n        transition: all 200ms ease-in-out;\n        text-shadow: 0 0 0 lightgrey;\n      }\n    }\n    &::before {\n      position: absolute;\n      content: "\u274c";\n      text-shadow: 0 0 0 dimgrey;\n      color: transparent;\n      font-size: 20px;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n']);return xe=function(){return e},e}function ye(){var e=Object(u.a)(["\n  max-width: 500px;\n  width: calc(100% - 40px);\n  border: 1px solid darkgrey;\n  border-radius: 8px;\n  box-shadow: 0px 3px 7px 0px darkgrey;\n  padding: 10px;\n  background-color: white;\n  z-index: 10;\n"]);return ye=function(){return e},e}function Ee(){var e=Object(u.a)(["\n  clip: rect(0 0 0 0);\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return Ee=function(){return e},e}var Oe=s.b.span(Ee()),ke=s.b.div(ye()),we=s.b.div(xe()),je=s.b.div(ve()),Ce=function(e,n){var t=Array.from(n.getElementsByTagName("input")),r=Array.from(n.getElementsByTagName("button")),a=[].concat(Object(X.a)(r),Object(X.a)(t));e?a[0].focus():a[a.length-1].focus()},Se=function(e){var n=e.children,t=e.buttonText,o=e.title,i=e.StyledButton,c=e.isClosed,l=e.setIsClosed,u=Object(r.useState)(null),s=Object(d.a)(u,2),g=s[0],p=s[1],b=Object(r.useRef)(null),f=Object(r.useRef)(null);return Object(r.useEffect)((function(){!c&&(null===f||void 0===f?void 0:f.current)&&Ce(!0,f.current)}),[c,f]),Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&l(!0)},n=function(){if(null===f||void 0===f?void 0:f.current){var e=f.current;e.contains(document.activeElement)||(Ce(!0,e),g===document.activeElement&&Ce(!1,e)),p(document.activeElement)}};return c?(window.removeEventListener("keydown",e,!0),window.removeEventListener("focus",n,!0)):(window.addEventListener("keydown",e,!0),window.addEventListener("focus",n,!0)),function(){window.removeEventListener("keydown",e,!0),window.removeEventListener("focus",n,!0)}}),[l,c,g,p]),a.a.createElement(a.a.Fragment,null,a.a.createElement(i,{ref:b,onClick:function(){l(!1)}},t),a.a.createElement(je,{hidden:c},a.a.createElement(ke,{role:"dialog","aria-labelledby":"dialog_label","aria-modal":"true",ref:f,hidden:c},a.a.createElement(we,null,a.a.createElement("h2",{id:"dialog_label"},o),a.a.createElement("button",{onClick:function(){l(!0)}},a.a.createElement(Oe,null,"Close"))),n)))},Pe=t(8),Re=t(6),Ne=t(7),Te=function(){function e(n){Object(Re.a)(this,e),this.style=void 0,this.animationState=void 0,this.animationConstants=void 0,this.style=this.getInitialStyles(n),this.animationConstants=this.getInitialConstants(n),this.animationState=this.getInitialState(n)}return Object(Ne.a)(e,[{key:"getInitialStyles",value:function(e){var n=e.sides,t=e.dots;return{sides:{colours:n.colours,strokeWidth:n.strokeWidth,enabled:n.enabled},dots:{enabled:t.enabled,size:t.size,fillColours:t.fillColours,strokeColours:t.strokeColours,strokeWidth:t.strokeWidth}}}},{key:"getInitialPoints",value:function(e,n){var t=2*Math.PI/e,r=t;return Object(X.a)(Array(e)).map((function(){r+=t;var e=Math.cos(r),a=Math.sin(r);return{x:Math.round(e*n),y:Math.round(a*n),sin:a,cos:e}}))}},{key:"getInitialConstants",value:function(e){var n=e.active,t=e.rotation,r=e.scale;return{position:e.position,isActive:n,isRotating:t.enabled,isScaling:r.enabled,isRotatingClockwise:t.clockwise,rotationSpeed:t.speed,scalingSpeed:r.speed,scalingRange:r.range}}},{key:"getInitialState",value:function(e){var n=e.scale,t=e.rotation,r=e.sides,a=this.getInitialPoints(r.amount,n.startingSize),o=n.startingSize<=(n.range.max-n.range.min)/2;return{currentRotation:t.startingRotation,currentSize:n.startingSize,currentlyExpanding:o,polygonPoints:a}}},{key:"updateRotation",value:function(){var e,n=this.animationConstants,t=n.isRotating,r=n.isRotatingClockwise,a=n.rotationSpeed,o=this.animationState.currentRotation;if(t){if(r){if((e=o+a)>359)e=e-359}else if((e=o-a)<-359)e=e+359;this.animationState.currentRotation=e}}},{key:"updateScale",value:function(){var e=this.animationConstants,n=e.isScaling,t=e.scalingSpeed,r=e.scalingRange,a=this.animationState,o=a.currentlyExpanding,i=a.polygonPoints,c=a.currentSize;if(n){var l,u=o;(l=o?c+t:c-t)>=r.max?(l=r.max,u=!1):l<=r.min&&(l=r.min,u=!0);var s=i.map((function(e){var n=e.cos,t=e.sin,r=Object(V.a)({},e);return r.x=Math.round(n*l),r.y=Math.round(t*l),r}));this.animationState.currentSize=l,this.animationState.currentlyExpanding=u,this.animationState.polygonPoints=s}}},{key:"getPolygonFrame",value:function(){var e=this.style,n=e.dots,t=e.sides,r=this.animationState,a=r.currentRotation,o=r.polygonPoints,i=this.animationConstants.position,c=o.map((function(e){return{x:e.x,y:e.y}})),l=o.map((function(e,n){var t,r=n+1;return t=r===o.length?{x:o[0].x,y:o[0].y}:{x:o[r].x,y:o[r].y},[{x:e.x,y:e.y},t]}));return{position:i,currentRotation:a,dots:{enabled:n.enabled,size:n.size,position:c,fillColours:n.fillColours,strokeColours:n.strokeColours,strokeWidth:n.strokeWidth},sides:{enabled:t.enabled,positions:l,strokeWidth:t.strokeWidth,strokeColours:t.colours}}}},{key:"getPolygonFrameAndStep",value:function(){var e=this.animationConstants.isActive,n=this.getPolygonFrame();return e&&(this.updateScale(),this.updateRotation()),n}}]),e}();function Le(e,n){var t=Math.floor(e.width*(n.x/100)/2),r=Math.floor(e.height*(n.y/100)/2);return{x:t,y:r/=-1}}function Me(e,n,t,r){var a=e.currentRotation,o=e.dots,i=e.sides,c=Le(n,e.position),l=c.x,u=c.y;t.push(),t.translate(l,u),r&&t.scale(r),t.rotate(a),i.enabled&&i.positions.forEach((function(e,n){var r=n%i.strokeColours.length;t.stroke(i.strokeColours[r]),t.strokeWeight(i.strokeWidth),t.line(e[0].x,e[0].y,e[1].x,e[1].y)})),o.enabled&&(t.push(),o.position.forEach((function(e,n){var r=n%o.fillColours.length,a=n%o.strokeColours.length,i=e.x,c=e.y;t.fill(o.fillColours[r]),t.strokeWeight(o.strokeWidth),t.stroke(o.strokeColours[a]),t.ellipse(i,c,o.size)})),t.pop()),t.pop()}function Ge(e){var n=e.polygonRing,t=e.windowSize,r=e.scale,a=e.rgbaBackgroundColour,o=e.rgbBackgroundColour,i=e.shouldRedrawBackground,c=new Te(n);return function(e){e.setup=function(){e.createCanvas(t.width,t.height),e.background(o),e.frameRate(30)},e.draw=function(){e.angleMode("degrees"),i&&e.background(a),e.translate(t.width/2,t.height/2),Me(c.getPolygonFrameAndStep(),t,e,r)}}}function Ae(e){var n=e.polygonGroup,t=e.windowSize,r=e.scale,a=e.rgbaBackgroundColour,o=e.rgbBackgroundColour,i=e.shouldRedrawBackground,c=n.rings.map((function(e){return new Te(e)}));return function(e){e.setup=function(){e.createCanvas(t.width,t.height),e.background(o),e.frameRate(30)},e.draw=function(){e.angleMode("degrees"),i&&e.background(a),e.translate(t.width/2,t.height/2),e.push();var o=Le(t,n.position),l=o.x,u=o.y;e.translate(l,u);var s,d=Object(Pe.a)(c);try{for(d.s();!(s=d.n()).done;){Me(s.value.getPolygonFrameAndStep(),t,e,r)}}catch(g){d.e(g)}finally{d.f()}e.pop()}}}function _e(e){var n=e.polygonGroups,t=e.windowSize,r=e.rgbaBackgroundColour,a=e.rgbBackgroundColour,o=e.shouldRedrawBackground,i=e.scale,c=n.map((function(e){return e.rings.map((function(e){return new Te(e)}))}));return function(e){e.setup=function(){e.createCanvas(t.width,t.height),e.background(a),e.frameRate(30)},e.draw=function(){e.angleMode("degrees"),o&&e.background(r),e.translate(t.width/2,t.height/2),c.forEach((function(r,a){e.push();var o=Le(t,n[a].position),c=o.x,l=o.y;e.translate(c,l),i&&e.scale(i);var u,s=Object(Pe.a)(r);try{for(s.s();!(u=s.n()).done;){Me(u.value.getPolygonFrameAndStep(),t,e)}}catch(d){s.e(d)}finally{s.f()}e.pop()}))}}}function De(e){var n=e.polygonGroups,t=e.windowSize,r=e.rgbaBackgroundColour,a=e.rgbBackgroundColour,o=e.shouldRedrawBackground,i=e.gifClass,c=e.recordingLength,l=e.scale,u=n.map((function(e){return e.rings.map((function(e){return new Te(e)}))}));return function(e){var s=!0;e.setup=function(){e.createCanvas(t.width,t.height).id("gif-canvas"),e.frameRate(30),e.background(a)},e.draw=function(){e.frameCount===30*c&&(i.render(),s=!1),e.angleMode("degrees"),o&&e.background(r),e.translate(t.width/2,t.height/2),u.forEach((function(r,a){e.push();var o=Le(t,n[a].position),i=o.x,c=o.y;e.translate(i,c),l&&e.scale(l);var u,s=Object(Pe.a)(r);try{for(s.s();!(u=s.n()).done;){Me(u.value.getPolygonFrameAndStep(),t,e)}}catch(d){s.e(d)}finally{s.f()}e.pop()})),s&&document.getElementById("gif-canvas")?i.addFrame(document.getElementById("gif-canvas"),{delay:30,copy:!0}):e.remove()}}}function Fe(){var e=Object(u.a)(["\n  &.vertical {\n    transform: rotate(-90deg);\n    width: ",";\n  }\n\n  -webkit-appearance: none;\n  margin: 10px 0;\n  width: 100%;\n  &:focus {\n    outline: none;\n  }\n  &::-webkit-slider-thumb {\n    box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\n    border: 0px solid #000000;\n    height: 20px;\n    width: 39px;\n    border-radius: 15px;\n    background: grey;\n    cursor: pointer;\n    -webkit-appearance: none;\n    margin-top: -5.2px;\n  }\n  &:focus::-webkit-slider-thumb {\n    background: radial-gradient(\n      rgb(255, 255, 255) 0%,\n      rgb(141, 141, 141) 50%,\n      rgb(63, 63, 63) 100%\n    );\n    outline: none;\n    border: solid grey 2px;\n    margin-top: -7.2px;\n  }\n  &::-moz-range-thumb {\n    box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\n    border: 0px solid #000000;\n    height: 20px;\n    width: 39px;\n    border-radius: 15px;\n    background: grey;\n    cursor: pointer;\n  }\n\n  &:focus::-moz-range-thumb {\n    background: radial-gradient(\n      rgb(255, 255, 255) 0%,\n      rgb(141, 141, 141) 50%,\n      rgb(63, 63, 63) 100%\n    );\n    outline: none;\n    border: solid grey 2px;\n  }\n  &::-moz-range-thumb {\n    box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\n    border: 0px solid #000000;\n    height: 18px;\n    width: 18px;\n    border-radius: 50px;\n    background: grey;\n    cursor: pointer;\n  }\n\n  &:focus::-webkit-slider-thumb {\n    margin-top: -7.2px;\n  }\n  &::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 10px;\n    cursor: pointer;\n    box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\n    background: lightgrey;\n    border-radius: 25px;\n    border: 0px solid #000101;\n  }\n  &::-moz-range-track {\n    width: 100%;\n    height: 10px;\n    cursor: pointer;\n    box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\n    background: lightgrey;\n    border-radius: 25px;\n    border: 0px solid #000101;\n  }\n  &:focus::-moz-range-track {\n    outline: none;\n    background: linear-gradient(\n      225deg,\n      rgb(63, 63, 63) 0%,\n      rgb(141, 141, 141) 25%,\n      rgb(255, 255, 255) 50%,\n      rgb(141, 141, 141) 75%,\n      rgb(63, 63, 63) 100%\n    );\n    border: solid grey 2px;\n  }\n  &:focus::-webkit-slider-runnable-track {\n    outline: none;\n    background: linear-gradient(\n      225deg,\n      rgb(63, 63, 63) 0%,\n      rgb(141, 141, 141) 25%,\n      rgb(255, 255, 255) 50%,\n      rgb(141, 141, 141) 75%,\n      rgb(63, 63, 63) 100%\n    );\n    border: solid grey 2px;\n  }\n"]);return Fe=function(){return e},e}function Ie(){var e=Object(u.a)(["\n        position: absolute;\n        top: -","px;\n        left: 50%;\n        transform: translateX(-50%);\n      "]);return Ie=function(){return e},e}function ze(){var e=Object(u.a)(["\n  ","\n"]);return ze=function(){return e},e}var Ye=s.b.label(ze(),(function(e){var n=e.styleHeight;return n?Object(s.a)(Ie(),n/2):""})),Be=s.b.input(Fe(),(function(e){return"".concat(e.styleHeight,"px")})),We=function(e){var n=e.min,t=e.max,r=e.currentValue,o=e.id,i=e.label,c=e.vertical,l=e.setFunction,u=e.className,s=e.valueSuffix,d=e.hideValue,g=e.verticalHeight;return a.a.createElement("div",{className:u,style:{position:"relative"}},a.a.createElement(Ye,{htmlFor:o,styleHeight:g},i,d?"":": ".concat(r).concat(s||"")),a.a.createElement(Be,{className:c?"vertical":"",id:o,type:"range",min:n,max:t,value:r,styleHeight:g,onChange:function(e){var n=e.currentTarget.value,t=Number.parseInt(n);Number.isNaN(t)||l(t)}}))},Ue=t(30),Xe=t.n(Ue);function Ve(){var e=Object(u.a)(["\n  height: 20px;\n  font-size: 16px;\n  margin: 0 10px;\n  border: solid 2px lightgrey;\n  border-radius: 4px;\n  padding: 3px;\n  &:focus,\n  &:hover {\n    outline: none;\n    border-color: grey;\n    background: dimgrey;\n    color: snow;\n  }\n"]);return Ve=function(){return e},e}function He(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return He=function(){return e},e}function Ze(){var e=Object(u.a)(["\n  width: 100%;\n  min-height: 150px;\n  display: grid;\n  justify-content: center;\n  align-content: center;\n  grid-gap: 10px;\n  font-size: 20px;\n  grid-auto-columns: minmax(280px, 80%);\n  justify-items: center;\n"]);return Ze=function(){return e},e}var Ke=s.b.form(Ze()),Je=Object(s.b)(U)(He()),$e=s.b.input(Ve()),qe={workers:2,quality:5,workerScript:"/playing-with-polygons/js/gif.worker.js",dither:"FalseFloydSteinberg"},Qe="undefined"!==typeof GIF?new GIF(qe):null,en=function(){var e=Object(r.useState)(!0),n=Object(d.a)(e,2),t=n[0],o=n[1],i=Object(r.useContext)(ge),c=Object(r.useContext)(he),l=Object(r.useState)(5),u=Object(d.a)(l,2),s=u[0],g=u[1],p=Object(r.useState)(0),b=Object(d.a)(p,2),f=b[0],m=b[1],h=Object(r.useState)("initial"),v=Object(d.a)(h,2),x=v[0],E=v[1],O=Object(r.useState)(!1),k=Object(d.a)(O,2),w=k[0],j=k[1],C=Object(r.useState)(!1),S=Object(d.a)(C,2),P=S[0],R=S[1],N=Object(r.useState)(!1),T=Object(d.a)(N,2),L=T[0],M=T[1],G=Object(r.useState)(null),A=Object(d.a)(G,2),_=A[0],D=A[1];return Object(r.useEffect)((function(){null!==Qe&&t&&(m(0),R(!1),M(!1),j(!1),D(null))}),[t]),Object(r.useEffect)((function(){if(null!==Qe){var e=function(e){var n=Math.round(100*e);m(n)},n=function(e){R(!0)},r=function(e){},a=function(e){M(!0),D(e)};return Qe.on("start",n),Qe.on("abort",r),Qe.on("finished",a),Qe.on("progress",e),t&&(Qe.abort(),Qe=new GIF(qe)),function(){null!==Qe&&(Qe.removeListener("start",n),Qe.removeListener("abort",r),Qe.removeListener("finished",a),Qe.removeListener("progress",e),Qe.abort(),Qe=new GIF(qe))}}}),[t]),Object(r.useEffect)((function(){E(w?P?L&&_?"saving":"processing":"recording":"initial")}),[P,L,w,_]),null===Qe?null:a.a.createElement(Se,{buttonText:"Make Gif",title:"Make Gif",StyledButton:y,isClosed:t,setIsClosed:o},a.a.createElement(Ke,{onSubmit:function(e){e.preventDefault()}},function(){switch(x){case"initial":return a.a.createElement(a.a.Fragment,null,a.a.createElement(We,{label:"Gif Length",min:1,max:10,currentValue:s,setFunction:g,id:"gif-recording-length-slider",valueSuffix:" seconds"}),a.a.createElement(y,{type:"submit",onClick:function(){j(!0)}},"Start Generating"));case"recording":return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Recording"),a.a.createElement(Je,{sketch:De({polygonGroups:i,windowSize:{height:250,width:250},rgbaBackgroundColour:c.rgba,rgbBackgroundColour:c.rgb,shouldRedrawBackground:c.shouldRedraw,gifClass:Qe,recordingLength:s,scale:.3})}));case"processing":return a.a.createElement("p",null,"Processing : ",f,"%");case"saving":var e,n=(null===(e=URL)||void 0===e?void 0:e.createObjectURL)&&_?URL.createObjectURL(_):null;return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Finished"),n&&a.a.createElement("img",{alt:"preview gif",src:n}),a.a.createElement(nn,{gifFile:_}))}}()))},nn=function(e){var n=e.gifFile,t=Object(r.useState)("polygon"),o=Object(d.a)(t,2),i=o[0],c=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"save-file-name"},"Save file name:"),a.a.createElement($e,{id:"save-file-name",minLength:1,value:i,onChange:function(e){var n=e.currentTarget.value;c(n)}})),a.a.createElement(y,{type:"submit",onClick:function(){Xe()(n,i.trim().replace(/[^\w\s]/gi,"").toLocaleLowerCase().replace(/\s+/gi,"-"))}},"Download Gif"),a.a.createElement("a",{href:"https://twitter.com/intent/tweet?screen_name=PlayingPolygons","data-related":"@PlayingPolygons","data-dnt":"true","data-show-count":"false"},"Tweet to @PlayingPolygons"))};function tn(){var e=Object(u.a)(['\n      height: 0px;\n      width: 0px;\n      overflow: hidden;\n      clip: rect(1px, 1px, 1px, 1px);\n      position: absolute !important;\n\n      & + label{\n        display: grid;\n        grid-template-rows: 1em 50px;\n        grid-gap: 5px;\n      }\n\n      & + label .button {\n        display: block;\n        box-sizing: border-box;\n        position: relative;\n\n        &::before,\n        &::after {\n          content: "";\n          position: absolute;\n          left: 0;\n          top: 50%;\n          transform: translateY(-50%);\n        }\n        &::before {\n          background: lightgrey;\n          height: 50px;\n          width: 90px;\n          border-radius: 50px;\n        }\n        &::after {\n          content: "','";\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background: Gainsboro;\n          margin: 0 5px;\n          border: solid 2px silver;\n          width: 38px;\n          height: 38px;\n          transform: translate(35px, -50%) ',";\n          ",'\n          border-radius: 25px;\n          transition: transform 200ms ease-in-out;\n        }\n      }\n      \n      &:checked + label .button {\n        &::after {\n          content: "','";\n          ',"\n          transform: translate(0, -50%);\n        }\n      }\n      &:checked:focus,\n      &:checked:hover {\n        & + label .button::after {\n          transform: translate(0, -50%);\n        }\n      }\n\n      &:focus,\n      &:hover {\n        & + label .button::after {\n          border: solid 3px silver;\n          width: 35px;\n          height: 35px;\n          transform: translate(35px, -50%) ",";\n        }\n        & + label .button::before {\n          background: grey;\n        }\n      }"]);return tn=function(){return e},e}function rn(){var e=Object(u.a)(['\n    background-image: url("','");\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: 90%;\n    ']);return rn=function(){return e},e}function an(){var e=Object(u.a)(["\n  ","\n"]);return an=function(){return e},e}var on=s.b.input(an(),(function(e){var n=e.checkedText,t=e.svgBackground,r=e.transformFlip,a=Object(s.a)(rn(),t);return Object(s.a)(tn(),n?n.unchecked:"",r?"rotateX(0deg) rotateY(180deg)":"",t?a:"",n?n.checked:"",t?a:"",r?"rotateX(0deg) rotateY(180deg)":"")})),cn=function(e){var n=e.label,t=e.id,r=e.checked,o=e.setFunction,i=e.checkedText,c=e.svgBackground,l=e.transformFlip;return a.a.createElement("div",null,a.a.createElement(on,{type:"checkbox",id:t,checked:r,onChange:function(e){var n=e.currentTarget.checked;o(n)},checkedText:i,svgBackground:c,transformFlip:l}),a.a.createElement("label",{htmlFor:t},a.a.createElement("span",{className:"text"},n),a.a.createElement("span",{className:"button"})))};function ln(){var e=Object(u.a)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 35px;\n  padding: 5px;\n  margin: 5px 0 0;\n  border-radius: 5px;\n"]);return ln=function(){return e},e}function un(){var e=Object(u.a)(["\n  display: grid;\n  grid-gap: 10px;\n  font-size: 20px;\n"]);return un=function(){return e},e}var sn=s.b.form(un()),dn=s.b.input(ln()),gn=function(){var e=Object(r.useContext)(me),n=Object(r.useContext)(he),t=Object(r.useState)(!1),o=Object(d.a)(t,2),i=o[0],c=o[1],l=Object(r.useState)(!0),u=Object(d.a)(l,2),s=u[0],g=u[1],p=Object(r.useState)(n.shouldRedraw),b=Object(d.a)(p,2),f=b[0],m=b[1],h=Object(r.useState)(n.hex),v=Object(d.a)(h,2),x=v[0],E=v[1],O=Object(r.useState)(n.opacity),k=Object(d.a)(O,2),w=k[0],j=k[1];return Object(r.useEffect)((function(){f!==n.shouldRedraw||x!==n.hex||n.opacity,c(!0)}),[n,f,x,w]),a.a.createElement(Se,{buttonText:"Edit Background",title:"Edit Background",StyledButton:y,isClosed:s,setIsClosed:g},a.a.createElement(sn,{onSubmit:function(e){(0,e.preventDefault)()}},a.a.createElement(cn,{checked:f,id:"redraw-background-toggle",label:"Redraw Background?",setFunction:m,checkedText:{checked:"Yes",unchecked:"No"}}),a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"background-colour-picker"},"Background Colour"),a.a.createElement(dn,{id:"background-colour-picker",type:"color",value:x,onChange:function(e){var n=e.currentTarget.value;E(n)}})),a.a.createElement(We,{label:"Opacity",id:"background-opacity",currentValue:w,max:100,min:0,setFunction:j,valueSuffix:"%"}),a.a.createElement(y,{type:"submit",disabled:!i,onClick:function(){e({type:"UPDATE_BACKGROUND_WITH_HEX",shouldRedraw:f,hexColour:x,opacity:w}),c(!1),g(!0)}},"Update")))};function pn(){var e=Object(u.a)(["\n  background: white;\n  width: 100%;\n  height: 100%;\n  max-width: 100vw;\n  text-align: center;\n"]);return pn=function(){return e},e}var bn=s.b.div(pn());function fn(e,n){var t=e.length,r=e.map((function(e){return e.rings.length})).join("-"),a=e.map((function(e){return e.rings.map((function(e){return e.rotation.startingRotation})).join("-")})).join("-");return"".concat(t,"-").concat(r,"-").concat(a,"-").concat(n.width,"-").concat(n.height)}var mn=function(){var e=Object(r.useContext)(ge),n=Object(r.useContext)(he),t=Object(r.useState)({height:0,width:0}),o=Object(d.a)(t,2),i=o[0],c=o[1],l=Object(r.useRef)(null);return Object(r.useEffect)((function(){(null===l||void 0===l?void 0:l.current)&&c({height:l.current.offsetHeight,width:l.current.offsetWidth})}),[l,c]),Object(r.useEffect)((function(){function e(){(null===l||void 0===l?void 0:l.current)&&c({height:l.current.offsetHeight,width:l.current.offsetWidth})}var n;e();var t=function(){clearTimeout(n),n=setTimeout((function(){return e()}),250)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[l,c]),a.a.createElement(bn,{ref:l},a.a.createElement(U,{sketch:_e({polygonGroups:e,windowSize:i,rgbaBackgroundColour:n.rgba,rgbBackgroundColour:n.rgb,shouldRedrawBackground:n.shouldRedraw}),key:fn(e,i)}))};function hn(){var e=Object(u.a)(["\n  background-color: grey;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  box-shadow: inset 0px 4px 9px -2px #404040;\n"]);return hn=function(){return e},e}var vn=s.b.nav(hn());function xn(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-rows: minmax(90%, 90vh) minmax(10%, 10vh);\n  grid-template-columns: minmax(100%, 100vw);\n  grid-row: 1;\n  grid-column: 1;\n"]);return xn=function(){return e},e}var yn=s.b.div(xn()),En=function(){var e=Object(r.useContext)(m);return a.a.createElement(yn,null,a.a.createElement(mn,null),a.a.createElement(vn,null,a.a.createElement(y,{type:"button",onClick:function(){e({type:"GROUP_SCREEN"})}},"Edit Polygons"),a.a.createElement(gn,null),a.a.createElement(en,null)))};function On(){var e=Object(u.a)(["\n  position: absolute;\n  z-index: 1;\n  background: grey;\n  border-radius: 20px;\n  width: 30px;\n  height: 30px;\n  top: 0%;\n  right: 0%;\n  transform: translate(50%, -50%);\n  &.moving {\n    background: darkgrey;\n    border: solid 2px grey;\n    width: 28px;\n    height: 28px;\n  }\n"]);return On=function(){return e},e}function kn(){var e=Object(u.a)(['\n  background: lightgray;\n  grid-column: 2/4;\n  grid-row: 1/3;\n  position: relative;\n  border: 10px solid darkgrey;\n  &:before,\n  &:after {\n    position: absolute;\n    content: "";\n    border: 2px darkgrey dashed;\n  }\n  &:before {\n    width: 100%;\n    top: 50%;\n    transform: translateY(-2px);\n  }\n  &:after {\n    z-index: 0;\n    height: 100%;\n    right: 50%;\n    transform: translateX(2px);\n  }\n']);return kn=function(){return e},e}function wn(){var e=Object(u.a)(["\n  grid-column: 1/2;\n  grid-row: 3/4;\n  justify-self: center;\n  align-self: center;\n  text-align: center;\n"]);return wn=function(){return e},e}function jn(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 10px 1fr;\n  align-items: center;\n  grid-gap: 10px;\n  transform: translateX(-10px);\n"]);return jn=function(){return e},e}function Cn(){var e=Object(u.a)(["\n  grid-column: 2/4;\n  grid-row: 3/4;\n  justify-self: center;\n  align-self: center;\n"]);return Cn=function(){return e},e}function Sn(){var e=Object(u.a)(["\n  grid-column: 1/2;\n  grid-row: 1/3;\n  justify-self: center;\n  align-self: center;\n  text-align: center;\n"]);return Sn=function(){return e},e}function Pn(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 30px 1fr 1fr;\n  grid-template-rows: 1fr 1fr 30px;\n  width: 250px;\n  height: 250px;\n  margin: auto;\n"]);return Pn=function(){return e},e}var Rn=s.b.div(Pn()),Nn=s.b.div(Sn()),Tn=s.b.div(Cn()),Ln=Object(s.b)(We)(jn()),Mn=s.b.div(wn()),Gn=s.b.div(kn()),An=s.b.div(On());function _n(e){var n,t=e.x,r=e.y,a=e.coordinatePanel,o=e.scrollingParentRef,i=e.setXFunction,c=e.setYFunction;if(null!==a.current){var l=t-a.current.offsetLeft,u=r-a.current.offsetTop;(null===o||void 0===o||null===(n=o.current)||void 0===n?void 0:n.scrollTop)&&(u+=o.current.scrollTop);var s=Math.round(200*l/a.current.offsetWidth-100),d=Math.round(100+-200*u/a.current.offsetHeight);s>=-100&&s<=100?i(s):s>=-100?i(100):s<=100&&i(-100),d>=-100&&d<=100?c(d):d>=-100?c(100):d<=100&&c(-100)}}function Dn(e){var n=e.oldValue,t=e.oldMin,r=e.oldMax,a=e.newMin,o=e.newMax;return(n-t)*(a-o)/(r-t)+o}var Fn=function(e){var n=e.currentY,t=e.setYFunction,o=e.currentX,i=e.setXFunction,c=e.scrollingParentRef,l=Dn({oldValue:n,oldMin:-100,oldMax:100,newMin:0,newMax:100}),u=Dn({oldValue:o,oldMin:-100,oldMax:100,newMin:0,newMax:100}),s={top:"".concat(l,"%"),right:"".concat(u,"%")},d=Object(r.useRef)(null);return a.a.createElement(Rn,null,a.a.createElement(Nn,null,a.a.createElement(We,{max:100,min:-100,currentValue:n,label:"Y",id:"y",vertical:!0,setFunction:t,hideValue:!0,verticalHeight:125})),a.a.createElement(Mn,null,a.a.createElement("p",null,"X:",o),a.a.createElement("p",null,"Y:",n)),a.a.createElement(Gn,{ref:d,onClick:function(e){_n({x:e.pageX|e.clientX,y:e.pageY|e.clientY,scrollingParentRef:c,setXFunction:i,setYFunction:t,coordinatePanel:d}),e.preventDefault(),e.stopPropagation()}},a.a.createElement(An,{style:s,onPointerDown:function(e){!function(e){var n=e.pointerDownEvent,t=e.coordinatePanel,r=e.scrollingParentRef,a=e.setXFunction,o=e.setYFunction;n.preventDefault(),n.stopPropagation();var i=n.currentTarget.classList;function c(e){"touch"!==e.pointerType&&(_n({x:e.pageX|e.clientX,y:e.pageY|e.clientY,scrollingParentRef:r,setXFunction:a,setYFunction:o,coordinatePanel:t}),e.preventDefault(),e.stopPropagation())}function l(e){_n({x:e.touches[0].pageX,y:e.touches[0].pageY,scrollingParentRef:r,setXFunction:a,setYFunction:o,coordinatePanel:t}),e.preventDefault(),e.stopPropagation()}i.add("moving"),(null===t||void 0===t?void 0:t.current)&&t.current.addEventListener("touchmove",l),document.addEventListener("pointerup",(function e(){i.remove("moving"),(null===t||void 0===t?void 0:t.current)&&t.current.removeEventListener("touchmove",l),document.removeEventListener("pointerup",e),document.removeEventListener("pointermove",c)})),document.addEventListener("pointermove",c)}({pointerDownEvent:e,coordinatePanel:d,scrollingParentRef:c,setXFunction:i,setYFunction:t})}})),a.a.createElement(Tn,null,a.a.createElement(Ln,{max:100,min:-100,currentValue:o,label:"X",id:"x",setFunction:i,hideValue:!0})))};function In(){var e=Object(u.a)(["\n  grid-area: DELETE;\n"]);return In=function(){return e},e}function zn(){var e=Object(u.a)(["\n  grid-area: RANDOM;\n"]);return zn=function(){return e},e}function Yn(){var e=Object(u.a)(["\n  grid-area: EDIT;\n"]);return Yn=function(){return e},e}function Bn(){var e=Object(u.a)(["\n  border: solid 2px gainsboro;\n  border-radius: 3px;\n  padding: 1px;\n  width: 150px;\n  height: 150px;\n"]);return Bn=function(){return e},e}function Wn(){var e=Object(u.a)(["\n  grid-area: CANVAS;\n  justify-self: center;\n"]);return Wn=function(){return e},e}function Un(){var e=Object(u.a)(['\n  display: grid;\n  grid-auto-columns: 1fr;\n  grid-template-areas:\n    "RANDOM RANDOM EDIT EDIT"\n    "CANVAS CANVAS CANVAS CANVAS"\n    ". DELETE DELETE .";\n  grid-gap: 10px;\n  padding: 10px;\n  border: solid 2px darkgrey;\n  border-radius: 5px;\n  &:last-child {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: none;\n  }\n']);return Un=function(){return e},e}function Xn(){var e=Object(u.a)(["\n  display: grid;\n  grid-gap: 10px;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n  overflow-x: scroll;\n  margin: 0 10px;\n  padding: 10px;\n  border-radius: 8px;\n  box-shadow: inset 0px 0px 9px -2px #404040;\n"]);return Xn=function(){return e},e}function Vn(){var e=Object(u.a)(["\n  display: block;\n  width: 80%;\n  margin: 10px auto 0;\n"]);return Vn=function(){return e},e}function Hn(){var e=Object(u.a)(["\n  min-width: 100px;\n  justify-self: center;\n  grid-column: 1/3;\n"]);return Hn=function(){return e},e}function Zn(){var e=Object(u.a)(["\n  border: solid 4px gainsboro;\n  border-radius: 3px;\n  padding: 1px;\n  width: 200px;\n  height: 200px;\n"]);return Zn=function(){return e},e}function Kn(){var e=Object(u.a)(["\n  grid-column: 1/4;\n  justify-self: center;\n"]);return Kn=function(){return e},e}function Jn(){var e=Object(u.a)(["\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: 120px 120px;\n  justify-self: center;\n"]);return Jn=function(){return e},e}function $n(){var e=Object(u.a)(["\n  margin: 0 10px 10px;\n  width: calc(100% - 20px);\n"]);return $n=function(){return e},e}function qn(){var e=Object(u.a)(["\n  background: white;\n  display: grid;\n  grid-gap: 10px;\n  grid-auto-rows: min-content;\n  border: 2px solid darkgrey;\n  border-radius: 10px;\n  margin: 10px;\n  padding: 10px 0;\n"]);return qn=function(){return e},e}function Qn(){var e=Object(u.a)(["\n  display: grid;\n  grid-gap: 10px;\n  background: whitesmoke;\n  list-style: none;\n  overflow-y: scroll;\n  height: 100%;\n"]);return Qn=function(){return e},e}var et=s.b.ul(Qn()),nt=s.b.li(qn()),tt=Object(s.b)(y)($n()),rt=s.b.div(Jn()),at=s.b.div(Kn()),ot=Object(s.b)(U)(Zn()),it=Object(s.b)(y)(Hn()),ct=Object(s.b)(y)(Vn()),lt=function(e){var n=e.polygonGroup,t=e.groupIndex,o=Object(r.useContext)(de),i=Object(r.useState)(!1),c=Object(d.a)(i,2),l=c[0],u=c[1],s=Object(r.useState)(!0),g=Object(d.a)(s,2),p=g[0],b=g[1],f=Object(r.useState)(n.position.x),m=Object(d.a)(f,2),h=m[0],v=m[1],x=Object(r.useState)(n.position.y),E=Object(d.a)(x,2),O=E[0],k=E[1];return Object(r.useEffect)((function(){n.position.x===h&&n.position.y===O||u(!0)}),[n,h,O]),a.a.createElement(Se,{isClosed:p,setIsClosed:b,StyledButton:y,buttonText:"Edit Position",title:"Edit Position"},a.a.createElement(Fn,{currentX:h,currentY:O,setYFunction:k,setXFunction:v}),a.a.createElement(ct,{type:"button",disabled:!l,onClick:function(){u(!1),o({type:"UPDATE_POLYGON_GROUP_POSITION",group:t,position:{x:h,y:O}}),b(!0)}},"Update"))};function ut(){var e=Object(r.useContext)(ge),n=Object(r.useContext)(de),t=Object(r.useContext)(he),o=e.length;return a.a.createElement(et,null,e.map((function(r,i){var c="".concat(r.rings.length,"-").concat(r.rings[0].rotation.startingRotation,"-").concat(i),l=i===e.length-1;return a.a.createElement(a.a.Fragment,{key:c},a.a.createElement(nt,{"aria-label":"Group ".concat(i," Canvas")},a.a.createElement(rt,null,a.a.createElement(y,{onClick:function(){n({type:"RANDOMIZE_POLYGON_RINGS",group:i})}},"Randomize"),a.a.createElement(lt,{polygonGroup:r,groupIndex:i}),a.a.createElement(at,null,a.a.createElement(ot,{sketch:Ae({polygonGroup:r,windowSize:{height:200,width:200},scale:.2,rgbaBackgroundColour:t.rgba,rgbBackgroundColour:t.rgb,shouldRedrawBackground:t.shouldRedraw})})),a.a.createElement(it,{disabled:1===o,onClick:function(){n({type:"DELETE_POLYGON_GROUP",group:i})}},"Delete")),a.a.createElement(ht,{polygonRings:r.rings,groupNumber:i})),l&&a.a.createElement("li",null,a.a.createElement(tt,{type:"button",onClick:function(){n({type:"CREATE_POLYGON_GROUP"})}},"Add Group")))})))}var st=s.b.ul(Xn()),dt=s.b.li(Un()),gt=s.b.div(Wn()),pt=Object(s.b)(U)(Bn()),bt=Object(s.b)(y)(Yn()),ft=Object(s.b)(y)(zn()),mt=Object(s.b)(y)(In()),ht=function(e){var n=e.polygonRings,t=e.groupNumber,o=Object(r.useContext)(de),i=Object(r.useContext)(m),c=Object(r.useContext)(he),l=n.length;return a.a.createElement(st,null,n.map((function(e,r){var u=l===r+1,s="".concat(n.length,"-").concat(e.rotation.startingRotation,"-").concat(r);return a.a.createElement(a.a.Fragment,{key:s},a.a.createElement(dt,{"aria-label":"Group ".concat(t,", Ring ").concat(r," Canvas")},a.a.createElement(ft,{type:"button",onClick:function(){o({type:"RANDOMIZE_POLYGON",group:t,polygon:r})}},"Randomize"),a.a.createElement(bt,{type:"button",onClick:function(){i({type:"POLYGON_SCREEN",currentGroup:t,currentPolygon:r})}},"Edit"),a.a.createElement(gt,null,a.a.createElement(pt,{sketch:Ge({polygonRing:e,windowSize:{width:150,height:150},scale:.15,rgbaBackgroundColour:c.rgba,rgbBackgroundColour:c.rgb,shouldRedrawBackground:c.shouldRedraw})})),a.a.createElement(mt,{type:"button",disabled:1===l,onClick:function(){o({type:"DELETE_POLYGON_GROUP_RING",group:t,polygon:r})}},"Delete")),u&&a.a.createElement(dt,null,a.a.createElement(y,{type:"button",onClick:function(){o({type:"CREATE_POLYGON",group:t})}},"Add Polygon")))})))},vt=function(){var e=Object(r.useContext)(m);return a.a.createElement(yn,null,a.a.createElement(ut,null),a.a.createElement(vn,null,a.a.createElement(gn,null),a.a.createElement(y,{type:"button",onClick:function(){e({type:"WATCH_SCREEN"})}},"Watch Animation")))};function xt(){var e=Object(u.a)(["\n  transform: translateX(20px) rotate(45deg);\n"]);return xt=function(){return e},e}function yt(){var e=Object(u.a)(["\n  transform: translateX(-20px) rotate(225deg);\n"]);return yt=function(){return e},e}function Et(){var e=Object(u.a)(["\n  position: absolute;\n  width: 30px;\n  height: 30px;\n  border: solid darkgrey 2px;\n  background: darkgray;\n  border-radius: 50% 50% 100% 0% / 100% 50% 50% 0%;\n  &.focus {\n    background: linear-gradient(\n      225deg,\n      rgb(63, 63, 63) 0%,\n      rgb(141, 141, 141) 34%,\n      rgb(255, 255, 255) 100%\n    );\n    outline: none;\n    border: solid grey 2px;\n  }\n"]);return Et=function(){return e},e}function Ot(){var e=Object(u.a)(["\n  display: flex;\n  grid-area: bar;\n  align-items: center;\n  height: 10px;\n  width: calc(100% - 60px);\n  margin: 0 35px;\n  border-radius: 20px;\n  background-color: lightgrey;\n  align-self: center;\n  position: relative;\n  border: solid lightgrey 2px;\n  &.focus {\n    outline: none;\n    background: linear-gradient(\n      225deg,\n      rgb(63, 63, 63) 0%,\n      rgb(141, 141, 141) 25%,\n      rgb(255, 255, 255) 50%,\n      rgb(141, 141, 141) 75%,\n      rgb(63, 63, 63) 100%\n    );\n    border: solid grey 2px;\n  }\n"]);return Ot=function(){return e},e}function kt(){var e=Object(u.a)(["\n  grid-area: label;\n  justify-self: left;\n"]);return kt=function(){return e},e}function wt(){var e=Object(u.a)(["\n  font-size: 16px;\n  grid-area: ",";\n"]);return wt=function(){return e},e}function jt(){var e=Object(u.a)(['\n  display: grid;\n  grid-template-areas:\n    "label . . ."\n    "bar bar bar bar"\n    "min min max max";\n  justify-items: center;\n  grid-gap: 10px;\n  width: 100%;\n']);return jt=function(){return e},e}var Ct=Object(g.a)((function(e,n){var t=e.currentMax,r=e.currentMin,a=e.min,o=e.max;function i(e,n,t){return n+e>=t?t:n+e}function c(e,n,t){return n-e<=t?t:n-e}function l(e,n,t){return e<=n?n:e>=t?t:e}switch(n.type){case"KEY_DOWN":switch(n.key){case"ArrowRight":case"ArrowUp":n.isMinThumb?e.currentMin=i(1,r,t):e.currentMax=i(1,t,o);break;case"ArrowLeft":case"ArrowDown":n.isMinThumb?e.currentMin=c(1,r,a):e.currentMax=c(1,t,r);break;case"PageUp":n.isMinThumb?e.currentMin=i(5,r,t):e.currentMax=i(5,t,o);break;case"PageDown":n.isMinThumb?e.currentMin=c(5,r,a):e.currentMax=c(5,t,r);break;case"Home":n.isMinThumb?e.currentMin=e.min:e.currentMax=e.currentMin;break;case"End":n.isMinThumb?e.currentMin=e.currentMax:e.currentMax=e.max}break;case"DIRECT_UPDATE":n.isMinThumb?e.currentMin=l(n.newValue,a,t):e.currentMax=l(n.newValue,r,o)}})),St=s.b.div(jt()),Pt=s.b.div(wt(),(function(e){return e.area})),Rt=s.b.p(kt()),Nt=s.b.div(Ot()),Tt=Object(s.b)((function(e){var n=e.className,t=e.sliderDispatch,r=e.sliderRailRef,o=e.label,i=e.sliderState,c=e.isMinThumb,l=i.currentMin,u=i.min,s=i.max,d=i.currentMax,g={},p=100*(l-u)/(s-u)+0,b=100*(d-u)/(s-u)+0;return c?g.left="calc(".concat(p,"% - 20px)"):g.right="calc(".concat(100-b,"% - 20px)"),a.a.createElement("div",{className:n,onKeyDown:function(e){t({type:"KEY_DOWN",isMinThumb:c,key:e.key})},onPointerDown:function(e){!function(e){var n=e.event,t=e.min,r=e.max,a=e.sliderRailRef,o=e.isMinThumb,i=e.dispatch;function c(e){var n,c=(null===a||void 0===a||null===(n=a.current)||void 0===n?void 0:n.offsetWidth)?a.current.offsetWidth:0,l=Math.round(t+(r-t)*e/c);i({type:"DIRECT_UPDATE",isMinThumb:o,newValue:l})}function l(e){var n;if("touch"!==e.pointerType){var t=(null===a||void 0===a||null===(n=a.current)||void 0===n?void 0:n.offsetLeft)?a.current.offsetLeft:0;c((e.pageX|e.clientX)-t),e.preventDefault(),e.stopPropagation()}}function u(e){var n,t=(null===a||void 0===a||null===(n=a.current)||void 0===n?void 0:n.offsetLeft)?a.current.offsetLeft:0;c(e.touches[0].pageX-t),e.preventDefault(),e.stopPropagation()}function s(){(null===a||void 0===a?void 0:a.current)&&a.current.removeEventListener("touchmove",u),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",s),document.removeEventListener("pointercancel",s)}(null===a||void 0===a?void 0:a.current)&&a.current.addEventListener("touchmove",u),document.addEventListener("pointermove",l),document.addEventListener("pointerup",s),document.addEventListener("pointercancel",s),n.preventDefault(),n.stopPropagation(),n.currentTarget.focus()}({event:e,min:u,max:s,dispatch:t,sliderRailRef:r,isMinThumb:c})},onFocus:function(e){e.currentTarget.classList.add("focus"),(null===r||void 0===r?void 0:r.current)&&r.current.classList.add("focus")},onBlur:function(e){e.currentTarget.classList.remove("focus"),(null===r||void 0===r?void 0:r.current)&&r.current.classList.remove("focus")},style:g,role:"slider",tabIndex:0,"aria-valuemin":u,"aria-valuenow":c?l:d,"aria-valuetext":"".concat(c?l:d),"aria-valuemax":s,"aria-label":"".concat(o," ").concat(c?"Minimum":"Maximum")})}))(Et()),Lt=Object(s.b)(Tt)(yt()),Mt=Object(s.b)(Tt)(xt()),Gt=function(e){var n=e.label,t=e.sliderState,o=e.sliderReducerDispatch,i=Object(r.useRef)(null);return a.a.createElement(St,null,a.a.createElement(Rt,null,n),a.a.createElement(Nt,{ref:i},a.a.createElement(Lt,{sliderDispatch:o,isMinThumb:!0,sliderRailRef:i,sliderState:t,label:n}),a.a.createElement(Mt,{sliderDispatch:o,isMinThumb:!1,sliderRailRef:i,sliderState:t,label:n})),a.a.createElement(Pt,{area:"min"},a.a.createElement("span",null,"Min ",t.currentMin)),a.a.createElement(Pt,{area:"max"},a.a.createElement("span",null,"Max ",t.currentMax)))};function At(){var e=Object(u.a)(["\n  grid-row: 2/3;\n  width: 100%;\n  margin: 0;\n  min-height: initial;\n"]);return At=function(){return e},e}function _t(){var e=Object(u.a)(["\n  margin: 0;\n  min-height: initial;\n"]);return _t=function(){return e},e}function Dt(){var e=Object(u.a)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 35px;\n  padding: 5px;\n  border-radius: 5px;\n"]);return Dt=function(){return e},e}function Ft(){var e=Object(u.a)(["\n  text-align: center;\n  align-self: center;\n"]);return Ft=function(){return e},e}function It(){var e=Object(u.a)(["\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: 1fr;\n  grid-template-rows: 20px 35px 30px;\n"]);return It=function(){return e},e}function zt(){var e=Object(u.a)(["\n  display: grid;\n  grid-gap: 15px;\n  grid-auto-flow: column;\n  grid-auto-columns: 150px;\n  max-width: 100vw;\n  padding: 10px 0px;\n  overflow-x: scroll;\n  margin: 5px 0 0 0;\n  padding: 10px 10px;\n  border-radius: 4px;\n  box-shadow: inset 0px 0px 9px -2px #404040;\n"]);return zt=function(){return e},e}function Yt(){var e=Object(u.a)(["\n  width: 100%;\n  overflow: hidden;\n"]);return Yt=function(){return e},e}var Bt=s.b.div(Yt()),Wt=s.b.ul(zt()),Ut=s.b.li(It()),Xt=s.b.label(Ft()),Vt=s.b.input(Dt()),Ht=Object(s.b)(y)(_t()),Zt=Object(s.b)(y)(At()),Kt=function(e){var n=e.maxColours,t=e.setFunction,r=e.colours,o=e.label,i=e.id;return a.a.createElement(Bt,null,a.a.createElement("p",{id:"colour-picker-".concat(i)},o),a.a.createElement(Wt,{"aria-labelledby":"colour-picker-".concat(i)},r.map((function(e,o){return a.a.createElement(a.a.Fragment,{key:"".concat(e,"-").concat(o)},a.a.createElement(Ut,null,a.a.createElement(Xt,{htmlFor:"".concat(o,"-").concat(e.substr(1))},"Colour ",o+1),a.a.createElement(Vt,{id:"".concat(o,"-").concat(e.substr(1)),type:"color",defaultValue:e,onBlur:function(e){var n=e.currentTarget.value,a=Object(X.a)(r);a[o]=n,t(a)}}),1!==r.length&&a.a.createElement(Ht,{type:"button",onClick:function(){var e=Object(X.a)(r);e.splice(o,1),t(e)}},"Delete")),o+1===r.length&&r.length<n?a.a.createElement(Ut,null,a.a.createElement(Zt,{type:"button",onClick:function(){var e=Object(X.a)(r);e.push("#ffffff"),t(e)}},"Add")):null)}))))},Jt=t(31),$t=t.n(Jt);function qt(){var e=Object(u.a)(["\n  display: grid;\n  grid-gap: 10px;\n  grid-auto-flow: column;\n"]);return qt=function(){return e},e}function Qt(){var e=Object(u.a)(["\n  font-size: 16px;\n  font-weight: 400;\n"]);return Qt=function(){return e},e}function er(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  font-size: 20px;\n  font-weight: bold;\n  color: whitesmoke;\n"]);return er=function(){return e},e}function nr(){var e=Object(u.a)(["\n  padding: 10px;\n  border-radius: 4px 4px 0 0;\n  background: grey;\n  margin: -10px -10px 10px -10px;\n"]);return nr=function(){return e},e}function tr(){var e=Object(u.a)(["\n  border: 1px solid grey;\n  border-radius: 5px;\n  display: grid;\n  grid-auto-rows: min-content;\n  grid-gap: 10px;\n  padding: 10px;\n  margin-bottom: 10px;\n"]);return tr=function(){return e},e}function rr(){var e=Object(u.a)(["\n  width: calc(100% - 60px);\n"]);return rr=function(){return e},e}function ar(){var e=Object(u.a)(["\n  display: flex;\n"]);return ar=function(){return e},e}function or(){var e=Object(u.a)(["\n  border: solid 4px gainsboro;\n  border-radius: 3px;\n  padding: 1px;\n  width: 200px;\n  height: 200px;\n"]);return or=function(){return e},e}function ir(){var e=Object(u.a)(["\n  overflow-y: scroll;\n  overflow-x: hidden;\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));\n  border-radius: 8px;\n  box-shadow: inset 0px 0px 9px -2px #404040;\n  margin: 10px;\n  padding: 10px;\n"]);return ir=function(){return e},e}function cr(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 210px;\n  grid-gap: 10px;\n  justify-content: center;\n"]);return cr=function(){return e},e}function lr(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-rows: 280px calc(90vh - 290px);\n  grid-template-columns: 100vw;\n  justify-content: center;\n  margin: 10px 0;\n"]);return lr=function(){return e},e}var ur=s.b.div(lr()),sr=s.b.div(cr()),dr=s.b.div(ir()),gr=Object(s.b)(U)(or()),pr=s.b.div(ar()),br=Object(s.b)(We)(rr()),fr=function(){var e=Object(r.useContext)(ge),n=Object(r.useContext)(de),t=Object(r.useContext)(h),o=Object(r.useContext)(he),i=Object(r.useRef)(null),c=Object(r.useState)(!1),l=Object(d.a)(c,2),u=l[0],s=l[1],g=e[t.currentGroup].rings[t.currentPolygon],p=g.scale,b=g.rotation,f=g.dots,m=g.sides,v=g.position;return a.a.createElement(ur,null,a.a.createElement(sr,null,a.a.createElement("div",{"aria-label":"Ring ".concat(t.currentPolygon," Canvas")},u?a.a.createElement(gr,{sketch:Ae({polygonGroup:e[t.currentGroup],windowSize:{width:200,height:200},scale:.2,rgbaBackgroundColour:o.rgba,rgbBackgroundColour:o.rgb,shouldRedrawBackground:o.shouldRedraw})}):a.a.createElement(gr,{sketch:Ge({polygonRing:g,windowSize:{width:200,height:200},scale:.2,rgbaBackgroundColour:o.rgba,rgbBackgroundColour:o.rgb,shouldRedrawBackground:o.shouldRedraw})})),a.a.createElement(pr,null,a.a.createElement(y,{type:"button",onClick:function(){n({type:"RANDOMIZE_POLYGON",group:t.currentGroup,polygon:t.currentPolygon})}},"Randomize"),u?a.a.createElement(y,{type:"button",onClick:function(){s(!1)}},"Show Polygon"):a.a.createElement(y,{type:"button",onClick:function(){s(!0)}},"Show Group"))),a.a.createElement(dr,{ref:i},a.a.createElement(Or,{key:"".concat(b.speed,"-").concat(b.enabled,"-").concat(b.clockwise)}),a.a.createElement(kr,{key:"".concat(p.enabled,"-").concat(p.range.min,"-").concat(p.range.max,"-").concat(p.speed)}),a.a.createElement(wr,{key:"".concat(f.enabled,"-").concat(f.size,"-").concat(f.strokeWidth,"-").concat(f.strokeColours.join(""),"-").concat(f.fillColours.join(""))}),a.a.createElement(jr,{key:"".concat(m.enabled,"-").concat(m.amount,"-").concat(m.strokeWidth,"-").concat(m.colours.join(""))}),a.a.createElement(Cr,{key:"".concat(v.x,"-").concat(v.y),scrollingParentRef:i})))},mr=s.b.form(tr()),hr=s.b.div(nr()),vr=s.b.h2(er()),xr=s.b.span(Qt()),yr=s.b.div(qt()),Er=function(e){var n=e.children,t=e.title,r=e.updateDispatch,o=e.randomizeDispatch,i=e.canUpdate;return a.a.createElement(mr,{onSubmit:function(e){e.preventDefault()}},a.a.createElement(hr,null,a.a.createElement(vr,null,t,i&&a.a.createElement(xr,null,"Can Update"))),n,a.a.createElement(yr,null,a.a.createElement(y,{type:"submit",disabled:!i,onClick:function(){r()}},"Update"),o&&a.a.createElement(y,{type:"button",onClick:function(){o()}},"Randomize")))},Or=function(){var e=Object(r.useContext)(ge),n=Object(r.useContext)(de),t=Object(r.useContext)(h),o=e[t.currentGroup].rings[t.currentPolygon].rotation,i=Object(r.useState)(o.speed),c=Object(d.a)(i,2),l=c[0],u=c[1],s=Object(r.useState)(o.startingRotation),g=Object(d.a)(s,2),p=g[0],b=g[1],f=Object(r.useState)(o.enabled),m=Object(d.a)(f,2),v=m[0],x=m[1],y=Object(r.useState)(o.clockwise),E=Object(d.a)(y,2),O=E[0],k=E[1],w=Object(r.useState)(!1),j=Object(d.a)(w,2),C=j[0],S=j[1];Object(r.useEffect)((function(){o.speed===l&&o.startingRotation===p&&o.enabled===v&&o.clockwise===O||S(!0)}),[l,v,O,o,p]);return a.a.createElement(Er,{updateDispatch:function(){S(!1),n({type:"UPDATE_POLYGON_ROTATION",group:t.currentGroup,polygon:t.currentPolygon,rotation:{clockwise:O,enabled:v,speed:l,startingRotation:p}})},randomizeDispatch:function(){n({type:"RANDOMIZE_POLYGON_ROTATION",group:t.currentGroup,polygon:t.currentPolygon})},canUpdate:C,title:"Rotation"},a.a.createElement(cn,{label:"Enable",id:"rotation-enabled",checked:v,setFunction:x,checkedText:{checked:"ON",unchecked:"OFF"}}),a.a.createElement(br,{label:"Starting Rotation",id:"rotation-starting-rotation",min:0,max:359,currentValue:p,setFunction:b}),v&&a.a.createElement(a.a.Fragment,null,a.a.createElement(cn,{label:"Clockwise",id:"rotation-clockwise",checked:O,setFunction:k,svgBackground:$t.a,transformFlip:!0}),a.a.createElement(br,{label:"Speed",id:"rotation-speed",min:0,max:20,currentValue:l,setFunction:u})))},kr=function(){var e=Object(r.useContext)(ge),n=Object(r.useContext)(de),t=Object(r.useContext)(h),o=e[t.currentGroup].rings[t.currentPolygon].scale,i=Object(r.useState)(!1),c=Object(d.a)(i,2),l=c[0],u=c[1],s=Object(r.useState)(o.enabled),g=Object(d.a)(s,2),p=g[0],b=g[1],f=Object(r.useState)(o.speed),m=Object(d.a)(f,2),v=m[0],x=m[1],y=Object(r.useState)(o.startingSize),E=Object(d.a)(y,2),O=E[0],k=E[1],w={min:0,max:500,currentMin:o.range.min,currentMax:o.range.max},j=Object(r.useReducer)(Ct,w),C=Object(d.a)(j,2),S=C[0],P=C[1];Object(r.useEffect)((function(){o.speed===v&&o.enabled===p&&o.startingSize===O&&o.range.min===S.currentMin&&o.range.max===S.currentMax||u(!0)}),[v,p,S,o,O]);return a.a.createElement(Er,{title:"Scale",updateDispatch:function(){u(!1),n({type:"UPDATE_POLYGON_SCALE",group:t.currentGroup,polygon:t.currentPolygon,scale:{enabled:p,range:{min:S.currentMin,max:S.currentMax},speed:v,startingSize:O}})},randomizeDispatch:function(){n({type:"RANDOMIZE_POLYGON_SCALE",group:t.currentGroup,polygon:t.currentPolygon})},canUpdate:l},a.a.createElement(cn,{label:"Enable",id:"scale-enabled",checked:p,setFunction:b,checkedText:{checked:"ON",unchecked:"OFF"}}),a.a.createElement(br,{label:"Starting Size",id:"scale-starting-size",min:0,max:500,currentValue:O,setFunction:k}),p&&a.a.createElement(a.a.Fragment,null,a.a.createElement(br,{label:"Speed",id:"scale-speed",max:20,min:0,currentValue:v,setFunction:x}),a.a.createElement(Gt,{label:"Size",sliderState:S,sliderReducerDispatch:P})))},wr=function(){var e=Object(r.useContext)(ge),n=Object(r.useContext)(de),t=Object(r.useContext)(h),o=e[t.currentGroup].rings[t.currentPolygon],i=o.dots,c=o.sides,l=Object(r.useState)(!1),u=Object(d.a)(l,2),s=u[0],g=u[1],p=Object(r.useState)(i.enabled),b=Object(d.a)(p,2),f=b[0],m=b[1],v=Object(r.useState)(i.size),x=Object(d.a)(v,2),y=x[0],E=x[1],O=Object(r.useState)(i.strokeWidth),k=Object(d.a)(O,2),w=k[0],j=k[1],C=Object(r.useState)(i.fillColours),S=Object(d.a)(C,2),P=S[0],R=S[1],N=Object(r.useState)(i.strokeColours),T=Object(d.a)(N,2),L=T[0],M=T[1];Object(r.useEffect)((function(){i.enabled===f&&i.size===y&&i.strokeWidth===w&&i.fillColours.join("")===P.join("")&&i.strokeColours.join("")===L.join("")||g(!0)}),[f,y,w,i,P,L]);return a.a.createElement(Er,{updateDispatch:function(){g(!1),n({type:"UPDATE_POLYGON_DOTS",group:t.currentGroup,polygon:t.currentPolygon,dots:{enabled:f,fillColours:P,size:y,strokeColours:L,strokeWidth:w}})},randomizeDispatch:function(){n({type:"RANDOMIZE_POLYGON_DOTS",group:t.currentGroup,polygon:t.currentPolygon})},title:"Dots",canUpdate:s},a.a.createElement(cn,{label:"Enable",id:"dots-enabled",checked:f,setFunction:m,checkedText:{checked:"ON",unchecked:"OFF"}}),f&&a.a.createElement(a.a.Fragment,null,a.a.createElement(br,{label:"Size",id:"dots-size",max:20,min:0,currentValue:y,setFunction:E}),a.a.createElement(Kt,{label:"Fill Colour",id:"fill-colour",maxColours:c.amount,colours:P,setFunction:R}),a.a.createElement(br,{label:"Stroke Width",id:"dots-stroke-width",max:20,min:0,currentValue:w,setFunction:j,valueSuffix:"px"}),a.a.createElement(Kt,{label:"Stroke Colours",id:"stroke-colour",maxColours:c.amount,colours:L,setFunction:M})))},jr=function(){var e=Object(r.useContext)(ge),n=Object(r.useContext)(de),t=Object(r.useContext)(h),o=e[t.currentGroup].rings[t.currentPolygon].sides,i=Object(r.useState)(!1),c=Object(d.a)(i,2),l=c[0],u=c[1],s=Object(r.useState)(o.enabled),g=Object(d.a)(s,2),p=g[0],b=g[1],f=Object(r.useState)(o.amount),m=Object(d.a)(f,2),v=m[0],x=m[1],y=Object(r.useState)(o.strokeWidth),E=Object(d.a)(y,2),O=E[0],k=E[1],w=Object(r.useState)(o.colours),j=Object(d.a)(w,2),C=j[0],S=j[1];Object(r.useEffect)((function(){o.enabled===p&&o.amount===v&&o.strokeWidth===O&&o.colours.join("")===C.join("")||u(!0)}),[p,v,O,o,C]);return a.a.createElement(Er,{updateDispatch:function(){u(!1),n({type:"UPDATE_POLYGON_SIDES",group:t.currentGroup,polygon:t.currentPolygon,sides:{amount:v,colours:C,enabled:p,strokeWidth:O}})},randomizeDispatch:function(){n({type:"RANDOMIZE_POLYGON_SIDES",group:t.currentGroup,polygon:t.currentPolygon})},title:"Sides",canUpdate:l},a.a.createElement(cn,{label:"Enable",id:"sides-enabled",checked:p,setFunction:b,checkedText:{checked:"ON",unchecked:"OFF"}}),a.a.createElement(br,{label:"Amount",id:"sides-amount",max:20,min:1,currentValue:v,setFunction:x}),p&&a.a.createElement(a.a.Fragment,null,a.a.createElement(br,{label:"Stroke Width",id:"sides-stroke-width",max:20,min:0,currentValue:O,setFunction:k,valueSuffix:"px"}),a.a.createElement(Kt,{label:"Colours",id:"sides-colours",maxColours:o.amount,colours:C,setFunction:S})))},Cr=function(e){var n=e.scrollingParentRef,t=Object(r.useContext)(ge),o=Object(r.useContext)(de),i=Object(r.useContext)(h),c=t[i.currentGroup].rings[i.currentPolygon].position,l=Object(r.useState)(!1),u=Object(d.a)(l,2),s=u[0],g=u[1],p=Object(r.useState)(c.x),b=Object(d.a)(p,2),f=b[0],m=b[1],v=Object(r.useState)(c.y),x=Object(d.a)(v,2),y=x[0],E=x[1];Object(r.useEffect)((function(){c.x===f&&c.y===y||g(!0)}),[c,f,y]);return a.a.createElement(Er,{updateDispatch:function(){g(!1),o({type:"UPDATE_POLYGON_POSITION",group:i.currentGroup,polygon:i.currentPolygon,position:{x:f,y:y}})},title:"Position",canUpdate:s},a.a.createElement(Fn,{currentX:f,currentY:y,setYFunction:E,setXFunction:m,scrollingParentRef:n}))},Sr=function(){var e=Object(r.useContext)(m);return a.a.createElement(yn,null,a.a.createElement(fr,null),a.a.createElement(vn,null,a.a.createElement(y,{type:"button",onClick:function(){e({type:"GROUP_SCREEN"})}},"Edit Polygons"),a.a.createElement(y,{type:"button",onClick:function(){e({type:"WATCH_SCREEN"})}},"Watch Animation")))};function Pr(){var e=Object(u.a)(["\n  display: grid;\n  grid-row: 1;\n  grid-column: 1;\n"]);return Pr=function(){return e},e}function Rr(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-rows: minmax(100%, 100vh);\n  grid-template-columns: minmax(100%, 100vw);\n  overflow: hidden;\n"]);return Rr=function(){return e},e}var Nr=s.b.main(Rr()),Tr=Object(s.b)((function(e){var n=e.children,t=e.currentChild,r=e.className,o=Object(v.b)(t,(function(e){return e}),{from:{opacity:0,transform:"translate(100%,0)"},enter:{opacity:1,transform:"translate(0%,0)"},leave:{opacity:0,transform:"translate(-50%,0)"}});return a.a.createElement(a.a.Fragment,null,o.map((function(e){var t=e.item,o=e.key,i=e.props;return a.a.createElement(v.a.div,{key:o,style:i,className:r},a.a.Children.map(n,(function(e,n){if(n===t-1)return e})))})))}))(Pr()),Lr=function(){var e=Object(r.useContext)(h);return a.a.createElement(Nr,null,a.a.createElement(Tr,{currentChild:{INFO_SCREEN:1,WATCH_SCREEN:2,GROUP_SCREEN:3,POLYGON_SCREEN:4}[e.currentScreen]},a.a.createElement(Y,null),a.a.createElement(En,null),a.a.createElement(vt,null),a.a.createElement(Sr,null)))};t(40),t(41);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(se,null,a.a.createElement(fe,null,a.a.createElement(f,null,a.a.createElement(Lr,null))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/playing-with-polygons",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/playing-with-polygons","/service-worker.js");c?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(n,e)}))}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.cfb4f783.chunk.js.map